@(question: models.Questions.Question, part: models.Groups.AbstractGroup, worker: Worker, assignmentId: String, hitId: String, turkSubmitTo: String, exp: LingoExpModel, df: play.data.DynamicForm, origin: String)

@views.html.ExperimentRendering.experiment_main("RephrasingExperiment") {
    <!-- This form is automatically generated by LingoTurk -->
    <form method="POST" action="@turkSubmitTo/mturk/externalSubmit" id="form" style="margin: 10% 12% 10% ;">

        @** statistics **@
        <div ng-if="RC.workerId == null">
            <div class="panel panel-primary">
                <div class="panel-heading">Please enter your participantId:</div>
                <div class="panel-body">
                    <div class="form-group">
                        <blockquote style="font-size : 112% ; border-right : 5px solid #FF9500 ;">
                            <input type="text" placeholder="enter your participantId here" ng-model="RC.tmpWorker" class="form-control">
                        </blockquote>
                    </div>
                    <button ng-click="RC.workerId = RC.tmpWorker; RC.load()" ng-disabled="RC.tmpWorker === undefined || RC.tmpWorker == ''" type="button" class="btn btn-default" style="float : right">continue</button>
                </div>
            </div>
        </div>

        @** statistics **@
        <div ng-if="RC.workerId != null" id="statisticsSlide">
            <div class="panel panel-primary">
                <div class="panel-heading">Please enter your age for statistical purposes:</div>
                <div class="panel-body">
                    <div class="form-group">
                        <blockquote style="font-size : 112% ; border-right : 5px solid #FF9500 ;">
                            <input type="number" placeholder="enter your age here" ng-maxlength="3" ng-minlength="1" oninput='$("#statisticsButton").removeAttr("disabled"); return event.charCode >= 48 && event.charCode <= 57' ng-model="RC.age" class="form-control">
                        </blockquote>
                    </div>
                    <button disabled="disabled" type="button" id="statisticsButton" onclick="$('#statisticsSlide').hide();$('#statisticsSlide1').show()" class="btn btn-default" style="float : right">continue</button>
                </div>
            </div>
        </div>

        <div id="statisticsSlide1" style="display:none">
            <div class="panel panel-primary">
                <div class="panel-heading">Please enter the age at which you started learning English:</div>
                <div class="panel-body">
                    <div class="form-group">
                        <blockquote style="font-size : 112% ; border-right : 5px solid #FF9500 ;">
                            <input type="number" placeholder="enter the age at which you started learning English here" ng-maxlength="3" ng-minlength="1" oninput='$("#statisticsButton1").removeAttr("disabled"); return event.charCode >= 48 && event.charCode <= 57' ng-model="RC.startedLearning" class="form-control">
                        </blockquote>
                    </div>
                    <button disabled="disabled" type="button" id="statisticsButton1" ng-click="RC.statisticsFinished()" class="btn btn-default" style="float : right">
                        continue</button>
                </div>
            </div>
        </div>

        <div id="instructions" style="display:none">
            <div class="panel panel-primary">
                <div class="panel-heading">Instructions</div>
                <div class="panel-body">
                    <div class="form-group">
                        <p>@Html(exp.getAdditionalExplanations())</p>

                        <strong style="margin-top:20px; margin-bottom:20px; display:block">You'll see an example of what to expect in the task below:</strong>
                        <ol>
                            <li>
                                Read the sentence displayed in the box. Please read this sentence only once.
                                <img style="display:block; margin: 10px auto; max-width: 100%" src="/assets/images/Experiments/RephrasingExperiment/1.PNG" />
                            </li>
                            <li>
                                Answer the question displayed in the box by clicking on one of the options.
                                <img style="display:block; margin: 10px auto; max-width: 100%" src="/assets/images/Experiments/RephrasingExperiment/2.PNG" />
                            </li>
                            <li>
                                Rephrase the original sentence.
                                <img style="display:block; margin: 10px auto; max-width: 100%" src="/assets/images/Experiments/RephrasingExperiment/3.PNG" />
                            </li>
                        </ol>

                        Please note that you cannot go back to an earlier screen to see the original sentence again, so please make sure to pay full attention when you first read the initial sentence. The order of the two tasks (question answering vs. rephrasing) is random.
                    </div>
                    <button type="button" ng-click="RC.mainInstructionsFinished()" class="btn btn-default" style="float : right">continue</button>
                </div>
            </div>
        </div>

        @** questions **@
        <div id="question{{$index}}" ng-repeat="question in RC.questions track by $index" style="display:none">
            <div class="fillerSlide">
                <div class="fillerInstructionSlide panel panel-primary">
                    <div class="panel-heading">Instructions:</div>
                    <div class="panel-body">
                        <div class="form-group">
                            Please read the sentence JUST ONCE and then press 'next'<div class=""></div>
                        </div>
                        <button type="button" ng-click="RC.showFillerSentence($index)" class="btn btn-default" style="float : right">continue</button>
                    </div>
                </div>
                <div class="fillerSentenceSlide panel panel-primary" style="display : none">
                    <div class="panel-heading">Sentence</div>
                    <div class="panel-body">
                        <div class="form-group">
                            <blockquote id="sentence" style="font-size : 112% ;">
                                {{question.fillerSentence}}
                            </blockquote>
                        </div>
                        <button type="button" ng-click="RC.showFillerQuestion($index)" class="btn btn-default" style="float : right">continue</button>
                    </div>
                </div>
                <div class="fillerQuestionSlide panel panel-primary" style="display : none">
                    <div class="panel-heading">Please answer the following question: </div>
                    <div class="panel-body question">
                        <div class="form-group">
                            <blockquote id="sentence" style="padding-right : 0px">
                                {{question.fillerQuestion}}
                                <div class="btn-group" style="float : right ;">
                                    <div class="radio-inline">
                                        <label><input name="fillerRadio{{$index}}" type="radio" >yes</label>
                                    </div>
                                    <div class="radio-inline">
                                        <label><input name="fillerRadio{{$index}}" type="radio" >no</label>
                                    </div>
                                </div>
                            </blockquote>
                        </div>
                        <button type="button" disabled="disabled" id="fillerRadioButton{{$index}}" ng-click="RC.showFillerRephrase($index)" class="btn btn-default" style="float : right ; margin-top : 20px">
                            continue</button>
                    </div>
                </div>
                <div class="fillerRephraseSlide panel panel-primary" style="display : none">
                    <div class="panel-heading">
                        Please rephrase the original sentence in your own words using 2 or 3 short, clear, simple sentences. </div>
                    <div class="panel-body question">
                        <div class="form-group">
                            <blockquote id="sentence" style="border-right : 5px solid #FF9500 ;">
                                <textarea type="text" class="form-control" id="fillerArea{{$index}}" style="resize : none" placeholder="type here"></textarea>
                            </blockquote>
                        </div>
                        <button type="button" disabled="disabled" ng-click="RC.fillerFinished($index)" class="btn btn-default repetitionFillerButton{{$index}}" style="float : right ; margin-top : 20px">
                            continue</button>
                    </div>
                </div>
            </div>


            <div class="taskSlide" style="display:none">
                <div class="instructionSlide panel panel-primary">
                    <div class="panel-heading">Instructions:</div>
                    <div class="panel-body">
                        <div class="form-group">
                            Please read the sentence JUST ONCE and then press 'next'.
                        </div>
                        <button type="button" ng-click="RC.instructionsFinished($index)" class="btn btn-default" style="float : right">continue</button>
                    </div>
                </div>


                <div class="sentenceSlide panel panel-primary" style="display : none">
                    <div class="panel-heading">Sentence</div>
                    <div class="panel-body question">
                        <div class="form-group">
                            <blockquote id="sentence" style="font-size: 112% ;">
                                {{ question.sentence }}
                            </blockquote>
                        </div>
                        <button type="button" ng-click="RC.begin($index)" class="btn btn-default" style="float:right">continue</button>
                    </div>
                </div>

                <div class="questionSlide panel panel-primary" style="display : none">
                    <div class="panel-heading">Please answer the following question: </div>
                    <div class="panel-body question">
                        <div class="form-group">
                            <blockquote id="sentence" style="padding-right: 0px">
                                {{ question.question }}
                                <div class="btn-group" style="float:right ;">
                                    <div class="radio-inline">
                                        <label><input type="radio" class="questionRadio{{$index}}" data-ng-value="true" data-ng-model="question.choice">yes</label>
                                    </div>
                                    <div class="radio-inline">
                                        <label><input type="radio" class="questionRadio{{$index}}" data-ng-value="false" data-ng-model="question.choice">no</label>
                                    </div>
                                </div>
                            </blockquote>
                        </div>
                        <button disabled="disabled" class="questionButton{{$index}} btn btn-default" type="button" ng-if="!question.lastSlide" ng-click="RC.next($index)" style="float:right ; margin-top:20px">
                            continue</button>
                        <button disabled="disabled" class="questionButton{{$index}} btn btn-default" type="button" ng-if="question.lastSlide" ng-click="RC.questionFinished($index)" style="float:right ; margin-top:20px">
                            submit</button>
                    </div>
                </div>

                <div class="repetitionSlide panel panel-primary" style="display : none">
                    <div class="panel-heading">Please rephrase the original sentence in your own words using 2 or 3 short, clear, simple sentences. </div>
                    <div class="panel-body question">
                        <div class="form-group">
                            <blockquote id="sentence" style="border-right: 5px solid #FF9500 ;">
                                <textarea class="repetitionArea{{$index}} form-control" type="text" style="resize:none" placeholder="type here" ng-model="question.answer"></textarea>
                            </blockquote>
                        </div>
                        <button disabled="disabled" type="button" ng-if="!question.lastSlide" ng-click="RC.next($index)" class="repetitionButton{{$index}} btn btn-default" style="float:right ; margin-top:20px">
                            continue</button>
                        <button disabled="disabled" type="button" ng-if="question.lastSlide" ng-click="RC.questionFinished($index)" class="repetitionButton{{$index}} btn btn-default" style="float:right ; margin-top:20px">
                            submit</button>
                    </div>
                </div>
            </div>
        </div>

        @if(question != null) {
            <input type="hidden" name="questionId" id="questionId" value="@question.getId()"/>
        }
        @if(part != null) {
            <input type="hidden" name="partId" id="partId" value="@part.getId()"/>
        }
        @if(worker != null){
            <input type="hidden" name="workerId" id="workerId" value="@worker.getId()">
        }
        @if(exp != null){
            <input type="hidden" id="expId" value="@exp.getId()">
        }
        <input type="hidden" name="origin" id="origin" value="@origin">
        <input type="hidden" name="assignmentId" id="assignmentId" value="@assignmentId">
        <input type="hidden" name="hitId" id="hitId" value="@hitId">

            <!-- You can add more input elements here -->
        <input type="hidden" name="age" value="{{RC.age}}">
        <input type="hidden" name="startedLearning" value="{{RC.startedLearning}}">
        <input type="hidden" name="choice1" value="{{RC.questions[0].choice}}">
        <input type="hidden" name="choice2" value="{{RC.questions[1].choice}}">
        <input type="hidden" name="answer1" value="{{RC.questions[0].answer}}">
        <input type="hidden" name="answer2" value="{{RC.questions[1].answer}}">
        <input type="hidden" name="readingTime1" value="{{RC.questions[0].readingTime}}">
        <input type="hidden" name="readingTime2" value="{{RC.questions[1].readingTime}}">
    </form>
}