@(question: models.Questions.Question, part: models.Groups.AbstractGroup, worker: Worker, assignmentId: String, hitId: String, turkSubmitTo: String, exp: LingoExpModel, df: play.data.DynamicForm, origin: String)

@views.html.ExperimentRendering.experiment_main("NewDiscourseConnectivesExperiment") {
    <!-- This form is automatically generated by LingoTurk -->
    <form method="POST" action="@turkSubmitTo/mturk/externalSubmit" id="form" style="height : 100% ; width : 100% ; display : table ;">

        <div ng-if="RC.showMessage == 'none'" style="display: table-cell ; height: 100% ; vertical-align: middle ;">
            <div ng-if="RC.state == 'instructionsSlide'" class="panel panel-primary" style="width:90% ; margin:auto">
                <div class="panel-heading" style="font-weight: bolder ;">Instructions</div>
                <div class="panel-body">
                    <p>@Html(exp.getAdditionalExplanations())</p>
                    <button ng-click="RC.next()" type="button" class="btn btn-default" style="float:right ; margin-top:20px">Next</button>
                </div>
            </div>

            <div ng-if="RC.state == 'workerIdSlide'" class="panel panel-primary" style="width:90% ; margin:auto">
                <div class="panel-heading" style="font-weight: bolder ;">Please enter your workerId into the box below:</div>
                <div class="panel-body">
                    <input id="workerId" ng-model="RC.workerId" name="workerId" type="text" class="form-control" placeholder="enter here">
                    <button ng-click="RC.next()" type="button" ng-disabled="RC.workerId == ''" class="btn btn-default" style="float:right ; margin-top:20px">
                        Next</button>
                </div>
            </div>

            <div ng-if="RC.state == 'statisticsSlide'">
                <statistics-slide statistics="RC.statistics" click="RC.next"></statistics-slide>
            </div>

            <div ng-if="RC.state == 'questionSlide' && RC.questionIndex == $index" ng-repeat="question in RC.questions" style="width:90% ; margin:auto">
                <div class="form-group" style="margin-bottom: 4%">
                    <label for="explanations">Explanations</label>
                    <blockquote id="explanations">
                        <p>The parts in grey provide the background for the sentences in black,
                            which have a logical connection between them. Your task will be to "drag
                            and drop" a connecting phrase from the list of candidate phrases to the
                            green box in the text. Please choose the linking phrase that best reflects
                            the meaning of the connection between the black sentences.</p>
                    </blockquote>
                </div>

                <drag-and-drop
                    click="RC.nextQuestion"
                    context1="question.context1"
                    sentence1="question.sentence1"
                    sentence2="question.sentence2"
                    context2="question.context2"
                    connectives="because, as a result, as an illustration, more specifically, in addition, even though, nevertheless, by contrast"
                    randomize-connectives="true"
                    answer="question.answer" >
                </drag-and-drop>
            </div>
        </div>

        <div ng-if="RC.showMessage == 'nextSubList'" style="height : 100% ; width : 100% ; display : table ; position: absolute ; top: 0 ; left: 0">
            <div style="display: table-cell ; height: 100% ; vertical-align: middle ;">
                <div style="width:90% ; margin:auto">
                    @** <this message is shown if a user successfully finished a sublist> **@
                    <div class="panel panel-primary">
                        @** <the message's heading> **@
                        <div class="panel-heading" style="font-weight: bolder ;">Attention:</div>
                        @** </the message's heading> **@
                        <div class="panel-body">
                            @** <the message content> **@
                                You've successfully completed a sublist. You may either stop here or continue with another one.
                            @** </the message content. please don't edit the buttons below (except their label)> **@
                            <hr/>
                            <button ng-click="RC.processFinish()" style="float:right ; margin-left: 10px ;" class="btn btn-default" type="button">Stop here</button>
                            <button ng-click="RC.nextSublist()" style="float:right" class="btn btn-default" type="button">Continue</button>
                        </div>
                    </div>
                    @** </this message is shown if a user successfully finished a sublist> **@
                </div>
            </div>
        </div>

        <div ng-if="RC.showMessage == 'goodBye'" style="height : 100% ; width : 100% ; display : table ; position: absolute ; top: 0 ; left: 0">
            <div style="display: table-cell ; height: 100% ; vertical-align: middle ;">
                <div style="width:90% ; margin:auto">
                    <div class="panel panel-primary">
                        <div class="panel-heading" style="font-weight: bolder ;">Attention:</div>
                        <div class="panel-body">
                            You've successfully completed the experiment. Thank you for your participation. To hand in your submission, click on the "Submit"-button below.
                            <hr/>
                            <button ng-click="RC.finished()" style="float:right" class="btn btn-default" type="button">Submit</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        @if(question != null) {
            <input type="hidden" name="questionId" id="questionId" value="@question.getId"/>
        }
        @if(part != null) {
            <input type="hidden" name="partId" id="partId" value="@part.getId"/>
        }
        @if(worker != null) {
            <input type="hidden" name="workerId" id="workerId" value="@worker.getId">
        }
        @if(exp != null) {
            <input type="hidden" id="expId" value="@exp.getId">
        }
        @if(df.get("redirectUrl") != null) {
            <input type="hidden" id="redirectUrl" value="@df.get("redirectUrl")">
        }
        @if(origin != null) {
            <input type="hidden" name="origin" id="origin" value="@origin">
        }
        @if(assignmentId != null) {
            <input type="hidden" name="assignmentId" id="assignmentId" value="@assignmentId">
        }
        @if(hitId != null) {
            <input type="hidden" name="hitId" id="hitId" value="@hitId">
            }
    </form>
}